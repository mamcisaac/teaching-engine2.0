{"version":3,"names":["z","subjectSchema","cov_piy7dyy4j","s","object","name","string","min","nameEn","optional","nameFr","bilingualString","fieldName","required","b","options","f","baseSchema","schema","max","Infinity","baseMilestoneSchema","subjectId","number","targetDate","datetime","startDate","endDate","estHours","int","expectations","array","milestoneCreateSchema","refine","data","Date","message","path","milestoneUpdateSchema","omit","partial","activityCreateSchema","milestoneId","activityType","enum","durationMins","completedAt","tags","activityUpdateSchema","activityReorderSchema","activityIds","activityMaterialsSchema","materialsText","timetableEntrySchema","day","startMin","endMin","nullable","newsletterGenerateSchema","template","includePhotos","boolean","useLLM","language","newsletterCreateSchema","newsletterUpdateSchema","smartGoalCreateSchema","outcomeId","description","date","targetValue","smartGoalUpdateSchema","observedValue","oralRoutineTemplateCreateSchema","oralRoutineTemplateUpdateSchema","dailyOralRoutineCreateSchema","templateId","positive","completed","notes","participation","dailyOralRoutineUpdateSchema","baseThematicUnitSchema","activities","thematicUnitCreateSchema","thematicUnitUpdateSchema","parentMessageCreateSchema","timeframe","contentFr","contentEn","linkedOutcomeIds","linkedActivityIds","parentMessageUpdateSchema","studentCreateSchema","studentGoalCreateSchema","text","unitPlanId","status","default","studentGoalUpdateSchema","studentReflectionCreateSchema","emoji","voicePath","cuidSchema","regex","validate","req","res","next","result","safeParse","body","success","json","errors","error","flatten"],"sources":["/Users/michaelmcisaac/GitHub/teaching-engine2.0/server/src/validation.ts"],"sourcesContent":["import { z, ZodSchema } from 'zod';\nimport { Request, Response, NextFunction } from 'express';\n// import { ALLOWED_TEMPLATES } from './services/newsletterGenerator';\n\nexport const subjectSchema = z.object({\n  name: z.string().min(1),\n  nameEn: z.string().optional(),\n  nameFr: z.string().optional(),\n});\n\n// Helper function to create bilingual fields\nconst bilingualString = (fieldName: string, required = false, options?: { max?: number }) => {\n  const baseSchema = required ? z.string().min(1) : z.string();\n  const schema = options?.max ? baseSchema.max(options.max) : baseSchema;\n  return {\n    [fieldName]: required ? schema : schema.optional(),\n    [`${fieldName}En`]: z\n      .string()\n      .max(options?.max || Infinity)\n      .optional(),\n    [`${fieldName}Fr`]: z\n      .string()\n      .max(options?.max || Infinity)\n      .optional(),\n  };\n};\n\n// Create base schema without refinement for update\nconst baseMilestoneSchema = z.object({\n  ...bilingualString('title', true),\n  subjectId: z.number(),\n  targetDate: z.string().datetime().optional(),\n  startDate: z.string().datetime().optional(),\n  endDate: z.string().datetime().optional(),\n  estHours: z.number().int().optional(),\n  ...bilingualString('description', false, { max: 10000 }),\n  expectations: z.array(z.string()).optional(),\n});\n\nexport const milestoneCreateSchema = baseMilestoneSchema.refine(\n  (data) => !(data.startDate && data.endDate) || new Date(data.startDate) <= new Date(data.endDate),\n  {\n    message: 'End date must be after or equal to start date',\n    path: ['endDate'],\n  },\n);\n\nexport const milestoneUpdateSchema = baseMilestoneSchema\n  .omit({ subjectId: true })\n  .partial()\n  .refine(\n    (data) =>\n      !(data.startDate && data.endDate) || new Date(data.startDate) <= new Date(data.endDate),\n    {\n      message: 'End date must be after or equal to start date',\n      path: ['endDate'],\n    },\n  );\n\nexport const activityCreateSchema = z.object({\n  ...bilingualString('title', true),\n  milestoneId: z.number(),\n  activityType: z.enum(['LESSON', 'ASSESSMENT']).optional(),\n  durationMins: z.number().int().optional(),\n  ...bilingualString('privateNote'),\n  ...bilingualString('publicNote'),\n  ...bilingualString('materialsText', false, { max: 500 }),\n  completedAt: z.string().datetime().optional(),\n  tags: z.array(z.string()).optional(),\n  expectations: z.array(z.string()).optional(),\n});\n\nexport const activityUpdateSchema = activityCreateSchema.omit({ milestoneId: true }).partial();\n\nexport const activityReorderSchema = z.object({\n  milestoneId: z.number(),\n  activityIds: z.array(z.number()),\n});\n\nexport const activityMaterialsSchema = z.object({\n  materialsText: z.string().max(500).optional(),\n});\n\nexport const timetableEntrySchema = z.object({\n  day: z.number().int().min(0).max(6),\n  startMin: z.number().int().min(0).max(1440),\n  endMin: z.number().int().min(1).max(1440),\n  subjectId: z.number().int().optional().nullable(),\n});\n\nexport const newsletterGenerateSchema = z.object({\n  startDate: z.string().datetime(),\n  endDate: z.string().datetime(),\n  template: z.string().optional(), // Legacy newsletter templates disabled\n  includePhotos: z.boolean().optional(),\n  useLLM: z.boolean().optional(),\n  language: z.enum(['en', 'fr', 'both']).optional(),\n});\n\nexport const newsletterCreateSchema = z.object({\n  ...bilingualString('title', true),\n  ...bilingualString('content', true),\n  ...bilingualString('rawDraft'),\n  ...bilingualString('polishedDraft'),\n});\n\nexport const newsletterUpdateSchema = newsletterCreateSchema.partial();\n\nexport const smartGoalCreateSchema = z.object({\n  outcomeId: z.string(),\n  milestoneId: z.number().optional(),\n  description: z.string().min(1).max(1000),\n  targetDate: z\n    .string()\n    .datetime()\n    .refine((date) => new Date(date) >= new Date(), {\n      message: 'Target date must be today or in the future',\n    }),\n  targetValue: z.number().int().min(0).max(100),\n});\n\nexport const smartGoalUpdateSchema = z.object({\n  description: z.string().min(1).max(1000).optional(),\n  targetDate: z\n    .string()\n    .datetime()\n    .refine((date) => new Date(date) >= new Date(), {\n      message: 'Target date must be today or in the future',\n    })\n    .optional(),\n  targetValue: z.number().int().min(0).max(100).optional(),\n  observedValue: z.number().int().min(0).max(100).optional(),\n});\n\nexport const oralRoutineTemplateCreateSchema = z.object({\n  ...bilingualString('title', true, { max: 200 }),\n  ...bilingualString('description', false, { max: 1000 }),\n  expectations: z.array(z.string()).optional(),\n});\n\nexport const oralRoutineTemplateUpdateSchema = z.object({\n  ...bilingualString('title', false, { max: 200 }),\n  ...bilingualString('description', false, { max: 1000 }),\n  expectations: z.array(z.string()).optional(),\n});\n\nexport const dailyOralRoutineCreateSchema = z.object({\n  date: z.string().datetime(),\n  templateId: z.number().int().positive(),\n  completed: z.boolean().optional(),\n  notes: z.string().max(500).optional(),\n  participation: z.number().int().min(0).max(100).optional(),\n});\n\nexport const dailyOralRoutineUpdateSchema = z.object({\n  completed: z.boolean().optional(),\n  notes: z.string().max(500).optional(),\n  participation: z.number().int().min(0).max(100).optional(),\n});\n\nconst baseThematicUnitSchema = z.object({\n  ...bilingualString('title', true, { max: 200 }),\n  ...bilingualString('description', false, { max: 2000 }),\n  startDate: z.string().datetime(),\n  endDate: z.string().datetime(),\n  expectations: z.array(z.string()).optional(),\n  activities: z.array(z.number().int()).optional(),\n});\n\nexport const thematicUnitCreateSchema = baseThematicUnitSchema.refine(\n  (data) => new Date(data.startDate) <= new Date(data.endDate),\n  {\n    message: 'End date must be after or equal to start date',\n    path: ['endDate'],\n  },\n);\n\nexport const thematicUnitUpdateSchema = baseThematicUnitSchema\n  .partial()\n  .refine(\n    (data) =>\n      !(data.startDate && data.endDate) || new Date(data.startDate) <= new Date(data.endDate),\n    {\n      message: 'End date must be after or equal to start date',\n      path: ['endDate'],\n    },\n  );\n\nexport const parentMessageCreateSchema = z.object({\n  ...bilingualString('title', true, { max: 200 }),\n  timeframe: z.string().min(1).max(100),\n  contentFr: z.string().min(1),\n  contentEn: z.string().min(1),\n  linkedOutcomeIds: z.array(z.string()).optional(),\n  linkedActivityIds: z.array(z.number().int()).optional(),\n});\n\nexport const parentMessageUpdateSchema = parentMessageCreateSchema.partial();\n\nexport const studentCreateSchema = z.object({\n  name: z.string().min(1).max(200),\n});\n\nexport const studentGoalCreateSchema = z.object({\n  text: z.string().min(1).max(500),\n  outcomeId: z.string().optional(),\n  // themeId removed - ThematicUnit model archived\n  unitPlanId: z.string().optional(),\n  status: z.enum(['active', 'completed', 'abandoned']).default('active'),\n});\n\nexport const studentGoalUpdateSchema = z.object({\n  text: z.string().min(1).max(500).optional(),\n  outcomeId: z.string().optional(),\n  // themeId removed - ThematicUnit model archived\n  unitPlanId: z.string().optional(),\n  status: z.enum(['active', 'completed', 'abandoned']).optional(),\n});\n\nexport const studentReflectionCreateSchema = z.object({\n  date: z.string().datetime().optional(),\n  text: z.string().max(1000).optional(),\n  emoji: z.string().max(10).optional(),\n  voicePath: z.string().max(500).optional(),\n  outcomeId: z.string().optional(),\n  // themeId removed - ThematicUnit model archived\n  unitPlanId: z.string().optional(),\n});\n\n// CUID validation helper - matches Prisma @default(cuid()) format\nexport const cuidSchema = () => z.string().regex(/^c[0-9a-z]{24}$/, 'Invalid ID format');\n\nexport function validate(schema: ZodSchema) {\n  return (req: Request, res: Response, next: NextFunction) => {\n    // For now, always validate req.body directly\n    // The schemas should not wrap body in an object\n    const result = schema.safeParse(req.body);\n\n    if (!result.success) {\n      return res.status(400).json({ errors: result.error.flatten() });\n    }\n\n    req.body = result.data;\n    next();\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}