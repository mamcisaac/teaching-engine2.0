{"file":"/Users/michaelmcisaac/GitHub/teaching-engine2.0/server/tests/setup/unit.setup.ts","mappings":"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","names":[],"sources":["/Users/michaelmcisaac/GitHub/teaching-engine2.0/server/tests/setup/unit.setup.ts"],"sourcesContent":["/**\n * Unit Test Setup\n * \n * Configures the test environment for fast, isolated unit tests\n * with comprehensive mocking of external dependencies.\n */\n\nimport { jest } from '@jest/globals';\nimport { TextEncoder, TextDecoder } from 'util';\n\n// Polyfill for Node.js environment\nglobal.TextEncoder = TextEncoder;\nglobal.TextDecoder = TextDecoder as any;\n\n// Set test environment\nprocess.env.NODE_ENV = 'test';\nprocess.env.DATABASE_URL = 'file:./test-unit.db';\nprocess.env.JWT_SECRET = 'test-secret-for-unit-tests';\nprocess.env.OPENAI_API_KEY = 'test-api-key';\n\n// Disable logging during tests\nprocess.env.LOG_LEVEL = 'silent';\n\n// Configure Jest\njest.setTimeout(5000); // 5 second timeout for unit tests\n\n// Mock external dependencies\njest.mock('openai');\njest.mock('@aws-sdk/client-s3');\njest.mock('node-cron');\njest.mock('pdfkit');\njest.mock('canvas');\n\n// Mock Prisma Client with comprehensive stubs\njest.mock('@teaching-engine/database', () => {\n  const mockPrismaClient = {\n    $connect: jest.fn().mockResolvedValue(undefined),\n    $disconnect: jest.fn().mockResolvedValue(undefined),\n    $transaction: jest.fn().mockImplementation((fn) => fn(mockPrismaClient)),\n    $queryRaw: jest.fn().mockResolvedValue([]),\n    $executeRaw: jest.fn().mockResolvedValue(1),\n    \n    // User model\n    user: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      upsert: jest.fn(),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Student model\n    student: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Lesson plan model\n    lessonPlan: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Curriculum expectation model\n    curriculumExpectation: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Unit plan model\n    unitPlan: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Outcome model\n    outcome: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Daily plan model\n    dailyPlan: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Milestone model\n    milestone: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Assessment result model\n    assessmentResult: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Calendar event model  \n    calendarEvent: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Activity model\n    activity: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Subject model\n    subject: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Daily plan item model\n    dailyPlanItem: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Unavailable block model\n    unavailableBlock: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Class routine model\n    classRoutine: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // ETFO Lesson Plan model\n    eTFOLessonPlan: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Long Range Plan model\n    longRangePlan: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Daybook Entry model\n    daybookEntry: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Curriculum Import model\n    curriculumImport: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Newsletter model\n    newsletter: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n    \n    // Parent Contact model\n    parentContact: {\n      findUnique: jest.fn(),\n      findMany: jest.fn().mockResolvedValue([]),\n      findFirst: jest.fn(),\n      create: jest.fn(),\n      createMany: jest.fn().mockResolvedValue({ count: 0 }),\n      update: jest.fn(),\n      updateMany: jest.fn().mockResolvedValue({ count: 0 }),\n      delete: jest.fn(),\n      deleteMany: jest.fn().mockResolvedValue({ count: 0 }),\n      count: jest.fn().mockResolvedValue(0),\n    },\n  };\n\n  // PrismaClient constructor\n  const PrismaClient = jest.fn().mockImplementation(() => mockPrismaClient);\n\n  // Make the mock client available globally for tests\n  const globalForPrisma = globalThis as unknown as {\n    testPrismaClient: typeof mockPrismaClient;\n  };\n  globalForPrisma.testPrismaClient = mockPrismaClient;\n\n  return {\n    PrismaClient,\n    prisma: mockPrismaClient,\n    Prisma: {\n      PrismaClientKnownRequestError: class PrismaClientKnownRequestError extends Error {\n        constructor(message: string, { code, clientVersion }: any) {\n          super(message);\n          this.code = code;\n          this.clientVersion = clientVersion;\n        }\n        code: string;\n        clientVersion: string;\n      },\n      PrismaClientValidationError: class extends Error {},\n    },\n  };\n});\n\n// Mock email service\njest.mock('../../src/services/emailService', () => ({\n  EmailService: jest.fn().mockImplementation(() => ({\n    sendEmail: jest.fn().mockResolvedValue(true),\n    sendBulkEmails: jest.fn().mockResolvedValue({ sent: 0, failed: 0 }),\n  })),\n}));\n\n// Mock file system operations for tests\njest.mock('fs/promises', () => ({\n  readFile: jest.fn(),\n  writeFile: jest.fn(),\n  unlink: jest.fn(),\n  mkdir: jest.fn(),\n  readdir: jest.fn().mockResolvedValue([]),\n  stat: jest.fn().mockResolvedValue({ isFile: () => true, size: 1000 }),\n  access: jest.fn(),\n}));\n\n// Global test utilities\nglobal.testUtils = {\n  /**\n   * Clear all mocks between tests\n   */\n  clearAllMocks: () => {\n    jest.clearAllMocks();\n  },\n  \n  /**\n   * Reset all mocks to default implementation\n   */\n  resetAllMocks: () => {\n    jest.resetAllMocks();\n  },\n  \n  /**\n   * Mock console methods to reduce noise\n   */\n  mockConsole: () => {\n    global.console = {\n      ...console,\n      log: jest.fn(),\n      error: jest.fn(),\n      warn: jest.fn(),\n      info: jest.fn(),\n      debug: jest.fn(),\n    };\n  },\n};\n\n// Automatically clear mocks after each test\nafterEach(() => {\n  jest.clearAllMocks();\n});\n\n// Export test configuration\nexport const testConfig = {\n  timeout: 5000,\n  retries: 0,\n  bail: false,\n};"],"version":3}