{"version":3,"names":["cov_1mc9mk7z8f","actualCoverage","extractScenarioTemplates","conditions","f","allScenarios","s","getAllScenarios","triggers","recommendedScenario","b","weather","push","find","id","technology","building","staffing","scenarios","getScenarioById","scenarioId","generateScenarioContent","scenario","teacherName","className","template","replace","Date","toLocaleDateString","toLocaleTimeString","autoDetectScenario","_userId","currentHour","getHours","isWeekend","includes","getDay","recentPlans","length","name","description","procedures","materials","contacts","role","number","when","modifications","schedule","activities","safety"],"sources":["/Users/michaelmcisaac/GitHub/teaching-engine2.0/server/src/services/scenarioTemplateExtractor.ts"],"sourcesContent":["export interface EmergencyScenario {\n  id: string;\n  name: string;\n  description: string;\n  procedures: string[];\n  materials: string[];\n  contacts: Array<{\n    role: string;\n    number: string;\n    when: string;\n  }>;\n  modifications: {\n    schedule: string[];\n    activities: string[];\n    safety: string[];\n  };\n  template: string;\n}\n\nexport interface ScenarioDetectionResult {\n  scenarios: EmergencyScenario[];\n  triggers: string[];\n  recommendedScenario?: EmergencyScenario;\n}\n\n/**\n * Extract appropriate emergency scenario templates based on conditions\n */\nexport async function extractScenarioTemplates(conditions?: {\n  weather?: 'normal' | 'severe' | 'extreme';\n  technology?: 'working' | 'partial' | 'down';\n  staffing?: 'full' | 'short' | 'emergency';\n  building?: 'normal' | 'maintenance' | 'emergency';\n}): Promise<ScenarioDetectionResult> {\n  const allScenarios = getAllScenarios();\n  const triggers: string[] = [];\n  let recommendedScenario: EmergencyScenario | undefined;\n\n  // Analyze conditions and determine triggers\n  if (conditions) {\n    if (conditions.weather === 'severe' || conditions.weather === 'extreme') {\n      triggers.push('severe_weather');\n      recommendedScenario = allScenarios.find((s) => s.id === 'severe_weather');\n    }\n\n    if (conditions.technology === 'down') {\n      triggers.push('technology_failure');\n      if (!recommendedScenario) {\n        recommendedScenario = allScenarios.find((s) => s.id === 'technology_failure');\n      }\n    }\n\n    if (conditions.building === 'emergency') {\n      triggers.push('lockdown');\n      recommendedScenario = allScenarios.find((s) => s.id === 'lockdown'); // Override others\n    }\n\n    if (conditions.staffing === 'emergency' || conditions.staffing === 'short') {\n      triggers.push('staff_shortage');\n      if (!recommendedScenario) {\n        recommendedScenario = allScenarios.find((s) => s.id === 'staff_shortage');\n      }\n    }\n  }\n\n  // If no specific conditions, provide general scenario\n  if (!recommendedScenario) {\n    recommendedScenario = allScenarios.find((s) => s.id === 'general_emergency');\n  }\n\n  return {\n    scenarios: allScenarios,\n    triggers,\n    recommendedScenario,\n  };\n}\n\n/**\n * Get specific scenario by ID\n */\nexport function getScenarioById(scenarioId: string): EmergencyScenario | undefined {\n  return getAllScenarios().find((s) => s.id === scenarioId);\n}\n\n/**\n * Generate scenario-specific substitute plan content\n */\nexport function generateScenarioContent(\n  scenario: EmergencyScenario,\n  teacherName?: string,\n  className?: string,\n): string {\n  const template = scenario.template\n    .replace('{{TEACHER_NAME}}', teacherName || '[Teacher Name]')\n    .replace('{{CLASS_NAME}}', className || '[Class Name]')\n    .replace('{{DATE}}', new Date().toLocaleDateString())\n    .replace('{{TIME}}', new Date().toLocaleTimeString());\n\n  return template;\n}\n\n/**\n * Check current conditions and auto-select scenario\n */\nexport async function autoDetectScenario(_userId: number = 1): Promise<EmergencyScenario> {\n  // In a real implementation, this might check:\n  // - Weather APIs\n  // - System status\n  // - School announcements\n  // - Staff availability\n\n  // For now, we'll use a simple heuristic based on time and recent patterns\n  const currentHour = new Date().getHours();\n  const isWeekend = [0, 6].includes(new Date().getDay());\n\n  // Check if there are any system issues (mock detection)\n  // DISABLED: Legacy dailyPlan model removed in ETFO migration\n  const recentPlans: Array<unknown> = []; // Legacy dailyPlan query disabled\n\n  // Simple heuristics for scenario detection\n  if (currentHour < 6 || currentHour > 20 || isWeekend) {\n    // Off-hours emergency\n    return getScenarioById('general_emergency')!;\n  }\n\n  if (recentPlans.length === 0) {\n    // No recent planning data - might be start of year or system issues\n    return getScenarioById('staff_shortage')!;\n  }\n\n  // Default to general scenario\n  return getScenarioById('general_emergency')!;\n}\n\n/**\n * Get all available emergency scenarios\n */\nfunction getAllScenarios(): EmergencyScenario[] {\n  return [\n    {\n      id: 'general_emergency',\n      name: 'General Emergency Plan',\n      description: 'Standard emergency substitute plan for unexpected absences',\n      procedures: [\n        'Contact office immediately upon arrival',\n        'Review daily schedule posted on desk',\n        'Follow regular classroom routines as much as possible',\n        'Take attendance at the beginning of each class period',\n        'Maintain normal break and lunch schedules',\n        'Report any issues to the office immediately',\n      ],\n      materials: [\n        'Emergency sub folder (in top desk drawer)',\n        'Class lists with emergency contacts',\n        'Daily schedule and room routines',\n        'Generic activity worksheets',\n        'Books for silent reading time',\n      ],\n      contacts: [\n        { role: 'Emergency Services', number: '911', when: 'For life-threatening emergencies only' },\n        { role: 'Principal', number: 'Ext. 100', when: 'For any emergencies or major issues' },\n        {\n          role: 'Office',\n          number: 'Ext. 101',\n          when: 'For attendance, late students, or general questions',\n        },\n        { role: 'Vice Principal', number: 'Ext. 102', when: 'For discipline issues' },\n        {\n          role: 'School Nurse',\n          number: 'Ext. 105',\n          when: 'For health emergencies or student illness',\n        },\n      ],\n      modifications: {\n        schedule: [\n          'Follow posted schedule as closely as possible',\n          'Allow extra time for transitions between activities',\n          'Be flexible with timing if students need more help',\n        ],\n        activities: [\n          'Use pre-planned backup activities if technology fails',\n          'Focus on review and reinforcement rather than new concepts',\n          'Allow for more independent work time',\n        ],\n        safety: [\n          'Keep classroom door locked during class',\n          'Know location of emergency exits',\n          'Familiarize yourself with evacuation procedures',\n        ],\n      },\n      template: `EMERGENCY SUBSTITUTE PLAN - {{CLASS_NAME}}\nDate: {{DATE}}\nTeacher: {{TEACHER_NAME}}\nSubstitute: _______________\n\nIMPORTANT: Please read this entire plan before students arrive.\n\nDAILY SCHEDULE:\n[Specific schedule will be inserted here]\n\nEMERGENCY CONTACTS:\n- Principal: Ext. 100\n- Office: Ext. 101\n- Vice Principal: Ext. 102\n\nCLASSROOM PROCEDURES:\n1. Students enter quietly and begin morning routine\n2. Take attendance using class list in red folder\n3. Follow posted schedule as closely as possible\n4. For any issues, call the office immediately\n\nBACKUP ACTIVITIES:\nIf planned activities cannot be completed:\n- Silent reading from classroom library\n- Math review worksheets (in green folder)\n- Journal writing prompts (posted on wall)\n\nThank you for covering this class. Please leave detailed notes about the day.`,\n    },\n\n    {\n      id: 'technology_failure',\n      name: 'Technology Failure Plan',\n      description: 'Plan for when computers, internet, or smart boards are not working',\n      procedures: [\n        'Do not attempt to fix technical equipment',\n        'Report technology issues to IT support immediately',\n        'Switch to paper-based alternatives for all activities',\n        'Use analog teaching tools (whiteboard, printed materials)',\n        'Inform students of technology issues and adjust expectations',\n        \"Focus on activities that don't require technology\",\n      ],\n      materials: [\n        'Printed worksheets and activities (in blue folder)',\n        'Whiteboard markers and erasers',\n        'Physical manipulatives and teaching aids',\n        'Books and reading materials',\n        'Paper and pencils for all students',\n        'Analog timer or watch',\n      ],\n      contacts: [\n        { role: 'Emergency Services', number: '911', when: 'For life-threatening emergencies only' },\n        { role: 'IT Support', number: 'Ext. 150', when: 'To report technology issues' },\n        { role: 'Office', number: 'Ext. 101', when: 'To inform of technology problems' },\n        {\n          role: 'Principal',\n          number: 'Ext. 100',\n          when: 'If technology failure affects safety or major activities',\n        },\n      ],\n      modifications: {\n        schedule: [\n          'Allow extra time for distributing materials',\n          'Simplify transitions that normally use technology',\n          'Extend activities that work well without technology',\n        ],\n        activities: [\n          'Replace digital activities with hands-on alternatives',\n          'Use printed versions of all worksheets',\n          'Focus on discussion-based learning',\n          'Increase physical movement and group work',\n        ],\n        safety: [\n          'Ensure emergency communication methods still work',\n          'Have backup plans for dismissal procedures',\n          'Keep manual attendance records',\n        ],\n      },\n      template: `TECHNOLOGY FAILURE SUBSTITUTE PLAN - {{CLASS_NAME}}\nDate: {{DATE}}\nTeacher: {{TEACHER_NAME}}\n\n⚠️ TECHNOLOGY ALERT: Systems may not be working normally\n\nIMPORTANT NOTES:\n- Do NOT attempt to fix any technology\n- Use only paper-based materials and activities\n- Report any tech issues to IT Support (Ext. 150)\n\nNO-TECH DAILY SCHEDULE:\n[Modified schedule with analog alternatives]\n\nBACKUP ACTIVITIES (No Technology Required):\n- Reading from physical books\n- Hand-written assignments\n- Group discussions and presentations\n- Physical math manipulatives\n- Art projects with paper/pencils\n\nMATERIALS LOCATION:\n- Blue folder: Printed worksheets\n- Supply cabinet: Paper, pencils, manipulatives\n- Bookshelf: Reading materials\n\nRemember: Focus on engagement over technology!`,\n    },\n\n    {\n      id: 'severe_weather',\n      name: 'Severe Weather Plan',\n      description: 'Plan for severe weather conditions affecting normal operations',\n      procedures: [\n        'Monitor weather announcements throughout the day',\n        'Keep students calm and informed appropriately for their age',\n        'Be prepared for modified dismissal procedures',\n        'Keep students away from windows during severe weather',\n        \"Follow school's severe weather protocols\",\n        'Have indoor activities ready if outdoor time is cancelled',\n      ],\n      materials: [\n        'Weather-appropriate indoor activities',\n        'Comfort items (books, quiet games)',\n        'Extra snacks in case of delayed dismissal',\n        'Battery-powered radio for updates',\n        'Flashlights (in emergency kit)',\n        'First aid kit (check location)',\n      ],\n      contacts: [\n        { role: 'Emergency Services', number: '911', when: 'For life-threatening emergencies only' },\n        { role: 'Office', number: 'Ext. 101', when: 'For weather updates and dismissal changes' },\n        { role: 'Principal', number: 'Ext. 100', when: 'For emergency decisions' },\n        {\n          role: 'District Office',\n          number: '555-0123',\n          when: 'For district-wide weather decisions',\n        },\n        { role: 'Transportation', number: '555-0124', when: 'For bus schedule changes' },\n      ],\n      modifications: {\n        schedule: [\n          'Cancel any outdoor activities or field trips',\n          'Be prepared for early dismissal or extended day',\n          'Keep flexible schedule based on weather updates',\n          'Plan for possible indoor recess/PE',\n        ],\n        activities: [\n          'Focus on calming, indoor activities',\n          'Have extra movies or quiet games ready',\n          'Prepare extended activities in case of long day',\n          'Include weather education if appropriate',\n        ],\n        safety: [\n          'Know location of severe weather shelter area',\n          'Keep emergency supplies accessible',\n          'Monitor school communications constantly',\n          'Stay calm to keep students calm',\n        ],\n      },\n      template: `SEVERE WEATHER SUBSTITUTE PLAN - {{CLASS_NAME}}\nDate: {{DATE}}\nTeacher: {{TEACHER_NAME}}\n\n🌪️ WEATHER ALERT: Severe weather conditions expected\n\nSAFETY FIRST:\n- Keep students away from windows\n- Monitor school announcements\n- Be prepared for modified dismissal\n- Weather shelter area: [Location]\n\nINDOOR SCHEDULE:\n[Modified schedule with indoor alternatives]\n\nWEATHER-SAFE ACTIVITIES:\n- Indoor games and movement\n- Weather science discussions\n- Quiet reading time\n- Art projects\n- Movies if extended day needed\n\nIMPORTANT: Stay calm, keep students informed age-appropriately.\nCheck office every hour for updates.`,\n    },\n\n    {\n      id: 'lockdown',\n      name: 'Lockdown/Security Plan',\n      description: 'Plan for security situations requiring lockdown procedures',\n      procedures: [\n        'Follow school lockdown procedures immediately',\n        'Lock classroom door and turn off lights',\n        'Keep students quiet and away from windows/doors',\n        'Do not open door for anyone except identified school officials',\n        'Take attendance silently',\n        'Wait for all-clear from administration',\n      ],\n      materials: [\n        'Emergency contact list',\n        'First aid kit',\n        'Water bottles (if available)',\n        'Quiet activities (books, paper)',\n        'Charged phone/communication device',\n        'Emergency procedures card',\n      ],\n      contacts: [\n        {\n          role: '911',\n          number: '911',\n          when: 'Only if immediate danger and no school contact available',\n        },\n        {\n          role: 'Principal',\n          number: 'Ext. 100',\n          when: 'Follow their lead - do not call unless emergency',\n        },\n        { role: 'Office', number: 'Ext. 101', when: 'Only if specifically instructed' },\n      ],\n      modifications: {\n        schedule: [\n          'All normal schedules are suspended',\n          'Remain in secure location until all-clear',\n          'No movement between rooms',\n          'Cancel all outside activities',\n        ],\n        activities: [\n          'Silent activities only',\n          'No technology that makes noise',\n          'Comfort and calm students quietly',\n          'Reading or quiet drawing',\n        ],\n        safety: [\n          'Door locked, lights off',\n          'Students away from windows/doors',\n          'Maintain silence',\n          'Follow official instructions only',\n        ],\n      },\n      template: `🔒 LOCKDOWN PROCEDURES - {{CLASS_NAME}}\nDate: {{DATE}}\n\nTHIS IS A LOCKDOWN SITUATION\n\nIMMEDIATE ACTIONS:\n1. Lock door, turn off lights\n2. Move students away from windows/doors\n3. Keep everyone quiet\n4. Take silent attendance\n5. Wait for official all-clear\n\nDO NOT:\n- Open door for anyone\n- Use phones unless emergency\n- Make noise\n- Leave secure area\n\nKEEP STUDENTS CALM:\n- Speak in whispers only\n- Provide comfort quietly\n- Use silent activities\n\nWait for administration's all-clear before resuming normal activities.`,\n    },\n\n    {\n      id: 'staff_shortage',\n      name: 'Staff Shortage Plan',\n      description: 'Plan for when multiple staff are absent or unavailable',\n      procedures: [\n        'Check with office for class combinations or room changes',\n        'Be prepared to supervise larger groups',\n        'Focus on simple, manageable activities',\n        'Use peer helpers and responsible students',\n        'Communicate frequently with remaining staff',\n        'Prioritize safety and basic routines',\n      ],\n      materials: [\n        'Large group activity supplies',\n        'Extra seating arrangements',\n        'Simple worksheets for various grade levels',\n        'Movies or educational videos',\n        'Books for independent reading',\n        'Art supplies for quiet activities',\n      ],\n      contacts: [\n        { role: 'Emergency Services', number: '911', when: 'For life-threatening emergencies only' },\n        { role: 'Principal', number: 'Ext. 100', when: 'For grouping decisions and support' },\n        { role: 'Vice Principal', number: 'Ext. 102', when: 'For assistance with large groups' },\n        {\n          role: 'Office',\n          number: 'Ext. 101',\n          when: 'For student location and parent communication',\n        },\n      ],\n      modifications: {\n        schedule: [\n          'Simplified schedule with longer activity blocks',\n          'Combined classes for some activities',\n          'Extra supervision during transitions',\n          'Modified lunch and break schedules',\n        ],\n        activities: [\n          'Simple, independent activities',\n          'Large group games and activities',\n          'Extended movie/video time if needed',\n          'Cross-grade buddy reading',\n        ],\n        safety: [\n          'Maintain higher supervision ratios',\n          'Use buddy system for bathroom breaks',\n          'Keep accurate headcounts',\n          'Have emergency evacuation plan for larger groups',\n        ],\n      },\n      template: `STAFF SHORTAGE SUBSTITUTE PLAN\nDate: {{DATE}}\nClasses Combined: _______________\n\n⚠️ MULTIPLE STAFF ABSENT - LARGE GROUP MANAGEMENT\n\nSTUDENT COUNT: ________\nADDITIONAL CLASSES: _______________\n\nSIMPLIFIED SCHEDULE:\n- Focus on basic routines\n- Longer activity periods\n- Extra supervision for transitions\n\nLARGE GROUP ACTIVITIES:\n- Movies/educational videos\n- Group reading time\n- Simple art projects\n- Indoor games\n\nSAFETY REMINDERS:\n- Higher supervision needed\n- Buddy system for movements\n- Frequent headcounts\n- Office support available\n\nStay flexible and prioritize safety!`,\n    },\n  ];\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}